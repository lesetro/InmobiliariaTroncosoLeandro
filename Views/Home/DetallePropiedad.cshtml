@model Inmobiliaria_troncoso_leandro.Models.Inmueble

@{
    ViewData["Title"] = "Propiedad en " + Model.Direccion;
    Layout = "~/Views/Shared/_LayoutPublic.cshtml";
}

<div class="breadcrumb-section py-3 bg-light">
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Inicio</a></li>
                <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Catalogo">Propiedades</a></li>
                <li class="breadcrumb-item active" aria-current="page">Propiedad en @Model.Direccion</li>
            </ol>
        </nav>
    </div>
</div>

<div class="container py-5">
    <div class="row">
        <!-- Contenido principal - IZQUIERDA (8 columnas) -->
        <div class="col-lg-8">
            <!-- Galería de imágenes -->
            <div class="property-gallery mb-4">
                <div class="main-image">
                    <img src="@Model.UrlPortadaODefault" alt="Propiedad en @Model.Direccion" class="img-fluid rounded" id="mainImage">
                    <div class="image-badges">
                        <span class="badge @Model.EstadoBadgeClass">@Model.EstadoParaMostrar</span>
                        <span class="badge badge-primary badge-lg">@Model.TipoInmueble?.Nombre</span>
                    </div>
                </div>

                <!-- Thumbnails -->
                <div class="thumbnail-gallery mt-3">
                    <div class="row">
                        @if (Model.Imagenes != null && Model.Imagenes.Any())
                        {
                            @foreach (var imagen in Model.Imagenes)
                            {
                                <div class="col-3 mb-3">
                                    <img src="@imagen.Url" alt="@(imagen.Descripcion ?? "Vista de la propiedad")" 
                                         class="img-fluid rounded thumbnail @(imagen.Url == Model.UrlPortadaODefault ? "active" : "")"
                                         onclick="changeMainImage('@imagen.Url')">
                                </div>
                            }
                        }
                        else
                        {
                            <div class="col-3">
                                <img src="@Model.UrlPortadaODefault" alt="Vista principal" 
                                     class="img-fluid rounded thumbnail active"
                                     onclick="changeMainImage('@Model.UrlPortadaODefault')">
                            </div>
                        }
                    </div>
                </div>
            </div>

            <!-- Información básica -->
            <div class="property-info mb-4">
                <div class="d-flex justify-content-between align-items-start mb-3">
                    <div>
                        <h1 class="property-title">Propiedad en @Model.Direccion</h1>
                        <p class="property-location text-muted">
                            <i class="fas fa-map-marker-alt"></i> @Model.Direccion
                        </p>
                    </div>
                    <div class="text-right">
                        <h2 class="property-price text-primary">$@Model.Precio.ToString("N0")</h2>
                        <p class="text-muted mb-0">Precio de alquiler mensual</p>
                    </div>
                </div>
            </div>

            <!-- Características principales -->
            <div class="property-features mb-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title mb-3">
                            <i class="fas fa-info-circle text-primary"></i> Características Principales
                        </h5>
                        <div class="row">
                            <div class="col-md-3 col-6 mb-3">
                                <div class="feature-item text-center">
                                    <i class="fas fa-bed fa-2x text-primary mb-2"></i>
                                    <h6>@Model.Ambientes</h6>
                                    <small class="text-muted">Ambientes</small>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="feature-item text-center">
                                    <i class="fas fa-bath fa-2x text-success mb-2"></i>
                                    <h6>2</h6>
                                    <small class="text-muted">Baños</small>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="feature-item text-center">
                                    <i class="fas fa-ruler-combined fa-2x text-info mb-2"></i>
                                    <h6>100</h6>
                                    <small class="text-muted">m² totales</small>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="feature-item text-center">
                                    <i class="fas fa-home fa-2x text-warning mb-2"></i>
                                    <h6>@Model.TipoInmueble?.Nombre</h6>
                                    <small class="text-muted">Tipo</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Descripción -->
            <div class="property-description mb-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title mb-3">
                            <i class="fas fa-align-left text-primary"></i> Descripción de la Propiedad
                        </h5>
                        <p class="card-text">
                            <strong>Características principales:</strong><br>
                            • <strong>Tipo:</strong> @Model.TipoInmueble?.Nombre<br>
                            • <strong>Uso:</strong> @Model.Uso<br>
                            • <strong>Ambientes:</strong> @Model.Ambientes<br>
                            • <strong>Ubicación:</strong> @Model.Direccion<br>
                            • <strong>Estado:</strong> <span class="badge @Model.EstadoBadgeClass">@Model.EstadoParaMostrar</span><br>
                            • <strong>Precio:</strong> <span class="text-primary fw-bold">$@Model.Precio.ToString("N0") mensual</span>
                        </p>
                    
                        @if (!string.IsNullOrEmpty(Model.Coordenadas))
                        {
                            <p class="card-text mt-3">
                                <strong>Ubicación precisa:</strong> Coordenadas GPS disponibles para visitas.
                            </p>
                        }
                    
                        <p class="card-text mt-3">
                            <strong>Disponibilidad:</strong> 
                            @if (Model.EstaDisponible)
                            {
                                <span class="text-success">✅ Disponible para @Model.Uso.ToLower() inmediato</span>
                            }
                            else
                            {
                                <span class="text-warning">⏳ Actualmente @Model.EstadoParaMostrar.ToLower()</span>
                            }
                        </p>
                    </div>
                </div>
            </div>

            <!-- Características adicionales -->
            <div class="additional-features mb-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title mb-3">
                            <i class="fas fa-star text-primary"></i> Características Adicionales
                        </h5>
                        <div class="row">
                            @{
                                var caracteristicas = new List<string>
                                {
                                    $"{Model.Ambientes} ambiente{(Model.Ambientes > 1 ? "s" : "")}",
                                    "2 baños completos",
                                    "100m² de superficie",
                                    Model.Uso.ToUpper(),
                                    "Cocina equipada",
                                    "Living comedor",
                                    "Balcón/terraza"
                                };
                            }
                            @foreach (var caracteristica in caracteristicas)
                            {
                                <div class="col-md-6 mb-2">
                                    <div class="feature-check">
                                        <i class="fas fa-check-circle text-success"></i>
                                        @caracteristica
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mapa interactivo -->
            <div class="property-map mb-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title mb-3">
                            <i class="fas fa-map-marked-alt text-primary"></i> Ubicación Exacta
                        </h5>
                        
                        @if (!string.IsNullOrEmpty(Model.Coordenadas))
                        {
                            <div id="map" class="mb-3"></div>
                            <div class="location-info">
                                <p class="mb-1"><strong>Dirección:</strong> @Model.Direccion</p>
                                <p class="mb-1"><strong>Coordenadas:</strong> @Model.Coordenadas</p>
                                <small class="text-muted">
                                    <i class="fas fa-info-circle"></i> 
                                    Haz zoom y mueve el mapa para ver la ubicación exacta
                                </small>
                            </div>
                        }
                        else
                        {
                            <div class="map-placeholder bg-light rounded d-flex align-items-center justify-content-center"
                                 style="height: 300px;">
                                <div class="text-center text-muted">
                                    <i class="fas fa-map-marker-alt fa-3x mb-3"></i>
                                    <h6>@Model.Direccion</h6>
                                    <p>Villa Mercedes, San Luis</p>
                                    <small>Coordenadas no disponibles</small>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div> <!-- Cierre del col-lg-8 -->

        <!-- Sidebar - DERECHA (4 columnas) -->
        <div class="col-lg-4">
            <!-- Formulario de contacto -->
            <div class="contact-form-sticky">
                <div class="card shadow mb-4">
                    <div class="card-header bg-primary text-white">
                        <h6 class="mb-0">
                            <i class="fas fa-heart"></i> ¿Te interesa esta propiedad?
                        </h6>
                    </div>
                    <div class="card-body">
                        <form asp-action="ExpresarInteres" method="post" id="interestForm">
                            @Html.AntiForgeryToken()
                            <input type="hidden" name="propiedadId" value="@Model.IdInmueble" />

                            <div class="mb-3">
                                <label class="form-label">Nombre completo *</label>
                                <input type="text" name="nombre" class="form-control" maxlength="100" required>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Email *</label>
                                <input type="email" name="email" class="form-control" maxlength="100" required>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Teléfono</label>
                                <input type="tel" name="telefono" class="form-control" maxlength="20">
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Mensaje</label>
                                <textarea name="mensaje" class="form-control" maxlength="500" rows="4" 
                                          placeholder="Cuéntanos qué te interesa de esta propiedad..."></textarea>
                            </div>

                            <button type="submit" class="btn btn-primary w-100">
                                <i class="fas fa-paper-plane me-2"></i>Expresar Interés
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Información de contacto directo -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-success text-white">
                        <h6 class="mb-0">
                            <i class="fas fa-phone"></i> Contacto Directo
                        </h6>
                    </div>
                    <div class="card-body">
                        <div class="contact-options">
                            <a href="tel:+5492664123456" class="btn btn-outline-success btn-block mb-2">
                                <i class="fas fa-phone"></i> +54 9 2664 123456
                            </a>
                            <a href="https://wa.me/5492664123456?text=Hola,%20me%20interesa%20la%20propiedad:%20Propiedad%20en%20@Model.Direccion"
                                target="_blank" class="btn btn-outline-success btn-block mb-2">
                                <i class="fab fa-whatsapp"></i> WhatsApp
                            </a>
                            <a href="mailto:info@inmobiliaria.com?subject=Consulta%20por%20Propiedad%20en%20@Model.Direccion"
                                class="btn btn-outline-primary btn-block">
                                <i class="fas fa-envelope"></i> Email
                            </a>
                        </div>

                        <hr>

                        <div class="office-hours">
                            <h6 class="font-weight-bold">Horarios de Atención:</h6>
                            <p class="small text-muted mb-1">
                                <i class="fas fa-clock"></i> Lunes a Viernes: 9:00 - 18:00
                            </p>
                            <p class="small text-muted mb-0">
                                <i class="fas fa-clock"></i> Sábados: 9:00 - 13:00
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Calculadora de financiamiento -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-info text-white">
                        <h6 class="mb-0">
                            <i class="fas fa-calculator"></i> Calculadora Rápida
                        </h6>
                    </div>
                    <div class="card-body">
                        <div class="calculator">
                            <div class="form-group">
                                <label class="small font-weight-bold">Precio de Alquiler:</label>
                                <input type="text" class="form-control" value="$@Model.Precio.ToString("N0")" readonly>
                            </div>
                            <div class="form-group">
                                <label class="small font-weight-bold">Depósito (1 mes):</label>
                                <input type="text" class="form-control" value="$@Model.Precio.ToString("N0")" readonly>
                            </div>
                            <div class="form-group">
                                <label class="small font-weight-bold">Expensas estimadas:</label>
                                <input type="text" class="form-control" value="$@((Model.Precio * 0.15m).ToString("N0"))"
                                    readonly>
                            </div>
                            <hr>
                            <div class="total-cost">
                                <strong>Costo inicial estimado: $@((Model.Precio * 2.15m).ToString("N0"))</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Cierre del col-lg-4 -->
    </div> <!-- Cierre del row -->

    <!-- Propiedades relacionadas (fuera del row principal) -->
    @{
        var propiedadesRel = ViewBag.PropiedadesRelacionadas as IEnumerable<Inmobiliaria_troncoso_leandro.Models.Inmueble>;
    }

    @if (propiedadesRel != null && propiedadesRel.Any())
    {   
        <div class="related-properties mt-5">
            <h3 class="mb-4">Propiedades Similares</h3>
            <div class="row">
                @foreach (var propiedad in propiedadesRel)
                {
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="property-card h-100">
                            <div class="property-image">
                                <img src="@propiedad.UrlPortadaODefault" alt="Propiedad en @propiedad.Direccion" class="img-fluid">
                                <div class="property-badges">
                                    <span class="badge @propiedad.EstadoBadgeClass">@propiedad.EstadoParaMostrar</span>
                                    <span class="badge badge-primary">@propiedad.TipoInmueble?.Nombre</span>
                                </div>
                            </div>
                            <div class="property-content">
                                <div class="property-price">
                                    <h5 class="text-primary font-weight-bold">$@propiedad.Precio.ToString("N0")</h5>
                                </div>
                                <h6 class="property-title">Propiedad en @propiedad.Direccion</h6>
                                <p class="property-location">
                                    <i class="fas fa-map-marker-alt text-muted"></i> @propiedad.Direccion
                                </p>
                                <div class="property-features">
                                    <span class="feature">
                                        <i class="fas fa-bed"></i> @propiedad.Ambientes amb.
                                    </span>
                                    <span class="feature">
                                        <i class="fas fa-bath"></i> 2 baños
                                    </span>
                                    <span class="feature">
                                        <i class="fas fa-ruler-combined"></i> 100m²
                                    </span>
                                </div>
                                <div class="property-actions mt-3">
                                    <a asp-action="DetallePropiedad" asp-route-id="@propiedad.IdInmueble"
                                        class="btn btn-outline-primary btn-block">
                                        <i class="fas fa-eye"></i> Ver Detalles
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    }
</div> 

@section Scripts {
    <script>
        $(document).ready(function () {
            // Sticky sidebar
            if ($(window).width() > 992) {
                $('.contact-form-sticky').sticky({
                    topSpacing: 100,
                    bottomSpacing: 50
                });
            }

            // Validación del formulario
            $('#interestForm').submit(function (e) {
                const nombre = $('input[name="nombre"]').val().trim();
                const email = $('input[name="email"]').val().trim();

                if (!nombre || !email) {
                    e.preventDefault();
                    showAlert('danger', 'Por favor completa los campos obligatorios.');
                    return false;
                }

                if (!isValidEmail(email)) {
                    e.preventDefault();
                    showAlert('danger', 'Por favor ingresa un email válido.');
                    return false;
                }
            });

            // Efectos hover para thumbnails
            $('.thumbnail').hover(function () {
                $(this).css('opacity', '0.8');
            }, function () {
                if (!$(this).hasClass('active')) {
                    $(this).css('opacity', '1');
                }
            });

            // Scroll suave a la galería desde thumbnails
            $('.thumbnail').click(function () {
                $('html, body').animate({
                    scrollTop: $('#mainImage').offset().top - 100
                }, 500);
            });
        });

        function changeMainImage(src) {
            $('#mainImage').fadeOut(200, function () {
                $(this).attr('src', src).fadeIn(200);
            });

            $('.thumbnail').removeClass('active').css('opacity', '1');
            $(`img[src="${src}"]`).addClass('active').css('opacity', '0.8');
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@@]+@@[^\s@@]+\.[^\s@@]+$/;
            return emailRegex.test(email);
        }

        function showAlert(type, message) {
            const alertHtml = `
                    <div class="alert alert-${type} alert-dismissible fade show position-fixed" 
                         style="top: 20px; right: 20px; z-index: 9999; max-width: 300px;" role="alert">
                        ${message}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                `;

            $('body').append(alertHtml);

            setTimeout(() => {
                $('.alert').fadeOut();
            }, 5000);
        }

        <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    
    <script>
        $(document).ready(function () {
            // Sticky sidebar (versión simplificada sin plugin)
            if ($(window).width() > 992) {
                const stickyElement = $('.contact-form-sticky');
                const offset = stickyElement.offset().top;
                
                $(window).scroll(function() {
                    const scrollTop = $(window).scrollTop();
                    if (scrollTop > offset) {
                        stickyElement.addClass('sticky-top').css('top', '100px');
                    } else {
                        stickyElement.removeClass('sticky-top').css('top', '');
                    }
                });
            }

            // Validación del formulario
            $('#interestForm').submit(function (e) {
                const nombre = $('input[name="nombre"]').val().trim();
                const email = $('input[name="email"]').val().trim();

                if (!nombre || !email) {
                    e.preventDefault();
                    showAlert('danger', 'Por favor completa los campos obligatorios.');
                    return false;
                }

                if (!isValidEmail(email)) {
                    e.preventDefault();
                    showAlert('danger', 'Por favor ingresa un email válido.');
                    return false;
                }
            });

            // Efectos hover para thumbnails
            $('.thumbnail').hover(function () {
                $(this).css('opacity', '0.8');
            }, function () {
                if (!$(this).hasClass('active')) {
                    $(this).css('opacity', '1');
                }
            });
        });

        function changeMainImage(src) {
            $('#mainImage').fadeOut(200, function () {
                $(this).attr('src', src).fadeIn(200);
            });

            $('.thumbnail').removeClass('active').css('opacity', '1');
            $(`img[src="${src}"]`).addClass('active').css('opacity', '0.8');
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@@]+@@[^\s@@]+\.[^\s@@]+$/;
            return emailRegex.test(email);
        }

        function showAlert(type, message) {
            const alertHtml = `
                <div class="alert alert-${type} alert-dismissible fade show position-fixed" 
                     style="top: 20px; right: 20px; z-index: 9999; max-width: 300px;" role="alert">
                    ${message}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            `;

            $('body').append(alertHtml);

            setTimeout(() => {
                $('.alert').alert('close');
            }, 5000);
        }
    </script>
}

<!-- Tus estilos CSS se mantienen igual -->

<style>
   
    .container.py-5 {
        padding-top: 2rem !important;
        padding-bottom: 2rem !important;
    }

    .breadcrumb-section {
        margin-bottom: 0;
    }

    /* Galería de imágenes mejorada */
    .property-gallery .main-image {
        position: relative;
        overflow: hidden;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        margin-bottom: 1rem;
    }

    .property-gallery .main-image img {
        width: 100%;
        height: 400px;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .property-gallery .main-image:hover img {
        transform: scale(1.02);
    }

    .property-gallery .image-badges {
        position: absolute;
        top: 15px;
        left: 15px;
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .property-gallery .image-badges .badge {
        font-size: 0.8rem;
        padding: 0.5em 0.75em;
        border-radius: 6px;
        font-weight: 600;
    }

    .thumbnail-gallery {
        margin-top: 1rem;
    }

    .thumbnail-gallery .row {
        display: flex;
        flex-wrap: wrap;
        margin: -4px;
    }

    .thumbnail-gallery .col-3 {
        padding: 4px;
        flex: 0 0 25%;
        max-width: 25%;
    }

    .thumbnail {
        height: 80px;
        width: 100%;
        object-fit: cover;
        cursor: pointer;
        border: 2px solid transparent;
        border-radius: 6px;
        transition: all 0.3s ease;
        opacity: 0.7;
    }

    .thumbnail:hover {
        opacity: 0.9;
        border-color: #007bff;
    }

    .thumbnail.active {
        border-color: #007bff;
        opacity: 1;
        transform: scale(1.05);
    }

    /* Información de la propiedad */
    .property-info {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        margin-bottom: 1.5rem;
    }

    .property-title {
        font-size: 1.75rem;
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 0.5rem;
        line-height: 1.2;
    }

    .property-location {
        font-size: 1rem;
        color: #6c757d;
        margin-bottom: 0;
    }

    .property-price {
        text-align: right;
    }

    .property-price h2 {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 0.25rem;
    }

    /* Tarjetas de características */
    .property-features .card,
    .property-description .card,
    .additional-features .card,
    .property-map .card {
        border: none;
        border-radius: 12px;
        box-shadow: 0 2px 15px rgba(0,0,0,0.08);
        margin-bottom: 1.5rem;
        overflow: hidden;
    }

    .property-features .card-header,
    .property-description .card-header,
    .additional-features .card-header,
    .property-map .card-header {
        border: none;
        padding: 1.25rem 1.5rem;
    }

    .property-features .card-body,
    .property-description .card-body,
    .additional-features .card-body,
    .property-map .card-body {
        padding: 1.5rem;
    }

    .card-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 1rem;
    }

    .card-title i {
        margin-right: 0.5rem;
    }

    /* Características principales */
    .feature-item {
        padding: 1rem 0.5rem;
        border-radius: 8px;
        transition: all 0.3s ease;
    }

    .feature-item:hover {
        background-color: #f8f9fa;
        transform: translateY(-2px);
    }

    .feature-item h6 {
        font-size: 1.5rem;
        font-weight: 700;
        margin: 0.5rem 0;
        color: #2c3e50;
    }

    .feature-item small {
        font-size: 0.85rem;
        color: #6c757d;
    }

    /* Descripción */
    .property-description .card-text {
        font-size: 1rem;
        line-height: 1.7;
        color: #495057;
    }

    .property-description .card-text strong {
        color: #2c3e50;
    }

    /* Características adicionales */
    .feature-check {
        display: flex;
        align-items: center;
        padding: 0.5rem 0;
        font-size: 0.95rem;
        color: #495057;
    }

    .feature-check i {
        margin-right: 0.75rem;
        font-size: 1rem;
    }

    /* Mapa */
    .property-map #map {
        height: 300px;
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid #e3e6f0;
    }

    .map-placeholder {
        height: 300px;
        border-radius: 8px;
        border: 2px dashed #dee2e6;
    }

    .location-info {
        background: #f8f9fa;
        padding: 1rem;
        border-radius: 8px;
        margin-top: 1rem;
    }

    /* Sidebar */
    .contact-form-sticky {
        position: sticky;
        top: 100px;
        z-index: 100;
    }

    .contact-form-sticky .card {
        border: none;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        margin-bottom: 1.5rem;
        overflow: hidden;
    }

    .contact-form-sticky .card-header {
        border: none;
        padding: 1.25rem 1.5rem;
        font-weight: 600;
    }

    .contact-form-sticky .card-body {
        padding: 1.5rem;
    }

    .contact-form-sticky .form-control {
        border-radius: 8px;
        border: 1px solid #e3e6f0;
        padding: 0.75rem 1rem;
        font-size: 0.95rem;
    }

    .contact-form-sticky .form-control:focus {
        border-color: #007bff;
        box-shadow: 0 0 0 0.2rem rgba(0,123,255,0.1);
    }

    .contact-form-sticky .btn {
        border-radius: 8px;
        padding: 0.75rem 1.5rem;
        font-weight: 600;
        font-size: 1rem;
    }

    .contact-options .btn {
        border-radius: 8px;
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
    }

    .office-hours {
        background: #f8f9fa;
        padding: 1rem;
        border-radius: 8px;
        margin-top: 1rem;
    }

    /* Calculadora */
    .calculator .form-group {
        margin-bottom: 1rem;
    }

    .calculator .form-control {
        background-color: #f8f9fa;
        border: 1px solid #e3e6f0;
        font-weight: 600;
        color: #495057;
        text-align: center;
    }

    .calculator .total-cost {
        font-size: 1.1rem;
        text-align: center;
        margin-top: 1rem;
        padding: 1rem;
        background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
        border-radius: 8px;
        font-weight: 700;
        color: #2c3e50;
    }

    /* Propiedades relacionadas */
    .related-properties {
        margin-top: 3rem;
        padding-top: 2rem;
        border-top: 1px solid #e3e6f0;
    }

    .related-properties h3 {
        font-size: 1.75rem;
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 1.5rem;
    }

    /* Responsive */
    @@media (max-width: 991.98px) {
        .property-gallery .main-image img {
            height: 300px;
        }
        
        .property-title {
            font-size: 1.5rem;
        }
        
        .property-price h2 {
            font-size: 1.75rem;
        }
        
        .contact-form-sticky {
            position: static;
            margin-top: 2rem;
        }
        
        .thumbnail-gallery .col-3 {
            flex: 0 0 33.333%;
            max-width: 33.333%;
        }
    }

    @@media (max-width: 767.98px) {
        .property-info {
            text-align: center;
        }
        
        .property-price {
            text-align: center;
            margin-top: 1rem;
        }
        
        .feature-item {
            margin-bottom: 1rem;
        }
        
        .thumbnail-gallery .col-3 {
            flex: 0 0 50%;
            max-width: 50%;
        }
        
        .property-gallery .main-image img {
            height: 250px;
        }
    }

    @@media (max-width: 575.98px) {
        .property-title {
            font-size: 1.25rem;
        }
        
        .property-price h2 {
            font-size: 1.5rem;
        }
        
        .thumbnail-gallery .col-3 {
            flex: 0 0 50%;
            max-width: 50%;
        }
        
        .thumbnail {
            height: 70px;
        }
    }

    /* Animaciones */
    .property-item {
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInUp 0.5s ease forwards;
    }

    .property-item:nth-child(1) { animation-delay: 0.1s; }
    .property-item:nth-child(2) { animation-delay: 0.2s; }
    .property-item:nth-child(3) { animation-delay: 0.3s; }
    .property-item:nth-child(4) { animation-delay: 0.4s; }
    .property-item:nth-child(5) { animation-delay: 0.5s; }
    .property-item:nth-child(6) { animation-delay: 0.6s; }

    @@keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Efectos hover generales */
    .property-card {
        border: 1px solid #e3e6f0;
        border-radius: 12px;
        transition: all 0.3s ease;
        overflow: hidden;
    }

    .property-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        border-color: #007bff;
    }

    .property-card .property-image {
        position: relative;
        overflow: hidden;
        height: 200px;
    }

    .property-card .property-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .property-card:hover .property-image img {
        transform: scale(1.05);
    }

    .property-card .property-badges {
        position: absolute;
        top: 10px;
        left: 10px;
        display: flex;
        flex-direction: column;
        gap: 5px;
    }

    .property-card .property-content {
        padding: 1.25rem;
    }

    /* Utilidades */
    .text-primary { color: #007bff !important; }
    .text-success { color: #28a745 !important; }
    .text-info { color: #17a2b8 !important; }
    .text-warning { color: #ffc107 !important; }
    
    .bg-primary { background-color: #007bff !important; }
    .bg-success { background-color: #28a745 !important; }
    .bg-info { background-color: #17a2b8 !important; }
    .bg-warning { background-color: #ffc107 !important; }

    .badge-primary { background-color: #007bff; }
    .badge-success { background-color: #28a745; }
    .badge-warning { background-color: #ffc107; }
    .badge-info { background-color: #17a2b8; }
    .badge-danger { background-color: #dc3545; }
    .badge-secondary { background-color: #6c757d; }
    .badge-dark { background-color: #343a40; }
    .badge-purple { background-color: #6f42c1; }
</style>
